{"ast":null,"code":"import axios from 'axios';\nimport CryptoJS from 'crypto-js';\nconst URL = 'http://localhost:5000';\n\nconst signHmacSha512 = (privatekey, str) => {\n  const key = CryptoJS.enc.Utf8.parse(privatekey);\n  const timestamp = CryptoJS.enc.Utf8.parse(str);\n  const hmac = CryptoJS.enc.Hex.stringify(CryptoJS.HmacSHA256(timestamp, key));\n  return hmac;\n};\n\nexport const getToken = async () => {\n  var host = \"http://partner.shopeemobile.com\";\n  var path = \"/api/v2/shop/auth_partner\";\n  var redirect_urt = \"http://localhost:3000/\";\n  const date = new Date();\n  let time = date.getTime() / 1000;\n  var timestampss = Math.floor(time);\n  const partner_id = \"2003951\";\n  const partner_key = \"37ca0827e1cde26308acc86d97109ecaf99f36d1cca9cd14140cd0edb6a22252\";\n  const basestring = partner_id + path + timestampss;\n  var sign = signHmacSha512(partner_key, basestring);\n  var link = host + path + `?partner_id=${partner_id}&timestamp=${timestampss}&sign=${sign}&redirect=${redirect_urt}`;\n  console.log(link);\n  window.location.href = link;\n};\nexport const getAuth = async () => {\n  try {\n    let response = await fetch(`${URL}/test`, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    });\n    return await response.json();\n  } catch (err) {\n    console.log(err);\n  }\n};","map":{"version":3,"names":["axios","CryptoJS","URL","signHmacSha512","privatekey","str","key","enc","Utf8","parse","timestamp","hmac","Hex","stringify","HmacSHA256","getToken","host","path","redirect_urt","date","Date","time","getTime","timestampss","Math","floor","partner_id","partner_key","basestring","sign","link","console","log","window","location","href","getAuth","response","fetch","method","headers","json","err"],"sources":["E:/nhuydc/client/src/api/index.js"],"sourcesContent":["import axios from 'axios';\r\nimport CryptoJS from 'crypto-js';\r\n\r\nconst URL = 'http://localhost:5000';\r\n\r\nconst signHmacSha512 = (privatekey,str) => {\r\n  const key = CryptoJS.enc.Utf8.parse(privatekey);\r\n  const timestamp = CryptoJS.enc.Utf8.parse(str);\r\n  const hmac = CryptoJS.enc.Hex.stringify(CryptoJS.HmacSHA256(timestamp,key));\r\n  return hmac;\r\n}\r\n\r\nexport const getToken = async () => {\r\n  var host = \"http://partner.shopeemobile.com\";\r\n  var path = \"/api/v2/shop/auth_partner\";\r\n  var redirect_urt = \"http://localhost:3000/\";\r\n  const date = new Date();\r\n  let time = date.getTime()/1000;\r\n  var timestampss = Math.floor(time);\r\n  const partner_id = \"2003951\";\r\n  const partner_key = \"37ca0827e1cde26308acc86d97109ecaf99f36d1cca9cd14140cd0edb6a22252\";\r\n  const basestring = partner_id+path+timestampss; \r\n  var sign = signHmacSha512(partner_key,basestring);\r\n  var link = host + path + `?partner_id=${partner_id}&timestamp=${timestampss}&sign=${sign}&redirect=${redirect_urt}`;\r\n      console.log(link);\r\n  window.location.href = link;\r\n  };\r\n\r\n  export const getAuth = async () => {\r\n    try {\r\n     \r\n      let response = await fetch(`${URL}/test`, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n        \r\n        }\r\n      })    \r\n      return await response.json();\r\n    } catch(err) {\r\n      console.log(err)\r\n    }\r\n  };\r\n  "],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,QAAP,MAAqB,WAArB;AAEA,MAAMC,GAAG,GAAG,uBAAZ;;AAEA,MAAMC,cAAc,GAAG,CAACC,UAAD,EAAYC,GAAZ,KAAoB;EACzC,MAAMC,GAAG,GAAGL,QAAQ,CAACM,GAAT,CAAaC,IAAb,CAAkBC,KAAlB,CAAwBL,UAAxB,CAAZ;EACA,MAAMM,SAAS,GAAGT,QAAQ,CAACM,GAAT,CAAaC,IAAb,CAAkBC,KAAlB,CAAwBJ,GAAxB,CAAlB;EACA,MAAMM,IAAI,GAAGV,QAAQ,CAACM,GAAT,CAAaK,GAAb,CAAiBC,SAAjB,CAA2BZ,QAAQ,CAACa,UAAT,CAAoBJ,SAApB,EAA8BJ,GAA9B,CAA3B,CAAb;EACA,OAAOK,IAAP;AACD,CALD;;AAOA,OAAO,MAAMI,QAAQ,GAAG,YAAY;EAClC,IAAIC,IAAI,GAAG,iCAAX;EACA,IAAIC,IAAI,GAAG,2BAAX;EACA,IAAIC,YAAY,GAAG,wBAAnB;EACA,MAAMC,IAAI,GAAG,IAAIC,IAAJ,EAAb;EACA,IAAIC,IAAI,GAAGF,IAAI,CAACG,OAAL,KAAe,IAA1B;EACA,IAAIC,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAlB;EACA,MAAMK,UAAU,GAAG,SAAnB;EACA,MAAMC,WAAW,GAAG,kEAApB;EACA,MAAMC,UAAU,GAAGF,UAAU,GAACT,IAAX,GAAgBM,WAAnC;EACA,IAAIM,IAAI,GAAG1B,cAAc,CAACwB,WAAD,EAAaC,UAAb,CAAzB;EACA,IAAIE,IAAI,GAAGd,IAAI,GAAGC,IAAP,GAAe,eAAcS,UAAW,cAAaH,WAAY,SAAQM,IAAK,aAAYX,YAAa,EAAlH;EACIa,OAAO,CAACC,GAAR,CAAYF,IAAZ;EACJG,MAAM,CAACC,QAAP,CAAgBC,IAAhB,GAAuBL,IAAvB;AACC,CAdI;AAgBL,OAAO,MAAMM,OAAO,GAAG,YAAY;EACjC,IAAI;IAEF,IAAIC,QAAQ,GAAG,MAAMC,KAAK,CAAE,GAAEpC,GAAI,OAAR,EAAgB;MACxCqC,MAAM,EAAE,KADgC;MAExCC,OAAO,EAAE;QACP,UAAU,kBADH;QAEP,gBAAgB;MAFT;IAF+B,CAAhB,CAA1B;IAQA,OAAO,MAAMH,QAAQ,CAACI,IAAT,EAAb;EACD,CAXD,CAWE,OAAMC,GAAN,EAAW;IACXX,OAAO,CAACC,GAAR,CAAYU,GAAZ;EACD;AACF,CAfM"},"metadata":{},"sourceType":"module"}