{"ast":null,"code":"import axios from 'axios';\nimport crypto from \"crypto-js\";\nconst URL = 'http://localhost:5000';\n\nfunction signHmacSha512(key, str) {\n  let hmac = crypto.createHmac(\"sha256\", key);\n  let signed = hmac.update(str).digest(\"hex\");\n  return signed;\n}\n\nexport const getAuth = async () => {\n  try {\n    console.log(\"ok\");\n    var host = \"https://partner.shopeemobile.com\";\n    var path = \"/api/v2/shop/auth_partner\";\n    var redirect_urt = \"http://localhost:3000/\";\n    const date = new Date();\n    let time = date.getTime() / 1000;\n    var timestampss = Math.floor(time);\n    const partner_id = \"2003951\";\n    const partner_key = \"37ca0827e1cde26308acc86d97109ecaf99f36d1cca9cd14140cd0edb6a22252\";\n    const basestring = partner_id + path + timestampss;\n    var sign = signHmacSha512(partner_key, basestring);\n    var link = host + path + `?partner_id=${partner_id}&timestamp=${timestampss}&sign=${sign}&redirect=${redirect_urt}`;\n    console.log(link);\n    let response = await fetch(link, {\n      method: 'GET',\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      }\n    });\n    return await response.json();\n  } catch (err) {\n    console.log(err);\n  }\n};","map":{"version":3,"names":["axios","crypto","URL","signHmacSha512","key","str","hmac","createHmac","signed","update","digest","getAuth","console","log","host","path","redirect_urt","date","Date","time","getTime","timestampss","Math","floor","partner_id","partner_key","basestring","sign","link","response","fetch","method","headers","json","err"],"sources":["E:/nhuydc/client/src/api/index.js"],"sourcesContent":["import axios from 'axios';\r\nimport crypto from \"crypto-js\";\r\n\r\nconst URL = 'http://localhost:5000';\r\n\r\nfunction signHmacSha512(key, str) {\r\n  let hmac = crypto.createHmac(\"sha256\", key);\r\n  let signed = hmac.update(str).digest(\"hex\");\r\n  return signed\r\n}\r\n\r\nexport const getAuth = async () => {\r\n    try {\r\n      console.log(\"ok\");\r\n    var host = \"https://partner.shopeemobile.com\";\r\n    var path = \"/api/v2/shop/auth_partner\";\r\n    var redirect_urt = \"http://localhost:3000/\";\r\n    const date = new Date();\r\n    let time = date.getTime()/1000;\r\n    var timestampss = Math.floor(time);\r\n    const partner_id = \"2003951\";\r\n    const partner_key = \"37ca0827e1cde26308acc86d97109ecaf99f36d1cca9cd14140cd0edb6a22252\";\r\n    const basestring = partner_id+path+timestampss; \r\n    var sign = signHmacSha512(partner_key,basestring);\r\n    var link = host + path + `?partner_id=${partner_id}&timestamp=${timestampss}&sign=${sign}&redirect=${redirect_urt}`;\r\n        console.log(link);\r\n      let response = await fetch(link, {\r\n        method: 'GET',\r\n        headers: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n        \r\n        }\r\n      })    \r\n      return await response.json();\r\n    } catch(err) {\r\n      console.log(err)\r\n    }\r\n  };"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,WAAnB;AAEA,MAAMC,GAAG,GAAG,uBAAZ;;AAEA,SAASC,cAAT,CAAwBC,GAAxB,EAA6BC,GAA7B,EAAkC;EAChC,IAAIC,IAAI,GAAGL,MAAM,CAACM,UAAP,CAAkB,QAAlB,EAA4BH,GAA5B,CAAX;EACA,IAAII,MAAM,GAAGF,IAAI,CAACG,MAAL,CAAYJ,GAAZ,EAAiBK,MAAjB,CAAwB,KAAxB,CAAb;EACA,OAAOF,MAAP;AACD;;AAED,OAAO,MAAMG,OAAO,GAAG,YAAY;EAC/B,IAAI;IACFC,OAAO,CAACC,GAAR,CAAY,IAAZ;IACF,IAAIC,IAAI,GAAG,kCAAX;IACA,IAAIC,IAAI,GAAG,2BAAX;IACA,IAAIC,YAAY,GAAG,wBAAnB;IACA,MAAMC,IAAI,GAAG,IAAIC,IAAJ,EAAb;IACA,IAAIC,IAAI,GAAGF,IAAI,CAACG,OAAL,KAAe,IAA1B;IACA,IAAIC,WAAW,GAAGC,IAAI,CAACC,KAAL,CAAWJ,IAAX,CAAlB;IACA,MAAMK,UAAU,GAAG,SAAnB;IACA,MAAMC,WAAW,GAAG,kEAApB;IACA,MAAMC,UAAU,GAAGF,UAAU,GAACT,IAAX,GAAgBM,WAAnC;IACA,IAAIM,IAAI,GAAGxB,cAAc,CAACsB,WAAD,EAAaC,UAAb,CAAzB;IACA,IAAIE,IAAI,GAAGd,IAAI,GAAGC,IAAP,GAAe,eAAcS,UAAW,cAAaH,WAAY,SAAQM,IAAK,aAAYX,YAAa,EAAlH;IACIJ,OAAO,CAACC,GAAR,CAAYe,IAAZ;IACF,IAAIC,QAAQ,GAAG,MAAMC,KAAK,CAACF,IAAD,EAAO;MAC/BG,MAAM,EAAE,KADuB;MAE/BC,OAAO,EAAE;QACP,UAAU,kBADH;QAEP,gBAAgB;MAFT;IAFsB,CAAP,CAA1B;IAQA,OAAO,MAAMH,QAAQ,CAACI,IAAT,EAAb;EACD,CAvBD,CAuBE,OAAMC,GAAN,EAAW;IACXtB,OAAO,CAACC,GAAR,CAAYqB,GAAZ;EACD;AACF,CA3BI"},"metadata":{},"sourceType":"module"}